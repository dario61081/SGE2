unit ufrmRendicionVentas;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, ufrmDatos, DBGridEhGrouping,
  ToolCtrlsEh, DBGridEhToolCtrls, DynVarsEh, Vcl.StdCtrls, EhLibVCL, GridsEh,
  DBAxisGridsEh, DBGridEh, Vcl.Mask, JvExMask, JvToolEdit, JvMaskEdit,
  JvCheckedMaskEdit, JvDatePickerEdit, Data.DB, ppComm, ppRelatv, ppProd,
  ppClass, ppReport, IBCustomDataSet, IBQuery, ppVar, ppCtrls, ppBands,
  ppPrnabl, ppStrtch, ppSubRpt, ppCache, ppDB, ppDesignLayer, ppParameter,
  ppDBPipe;

type
  TfrmRendicionVentas = class(TfrmDatos)
    qryVentas: TIBQuery;
    lbl1: TLabel;
    lbl2: TLabel;
    report1: TppReport;
    dsVentas: TDataSource;
    edtFecha: TJvDatePickerEdit;
    grid1: TDBGridEh;
    btnGenerar: TButton;
    qryDetalle: TIBQuery;
    qryDetalleFECHA: TDateField;
    qryDetalleCONDICION: TIBStringField;
    qryDetalleRUC: TIBStringField;
    qryDetalleRAZON_SOCIAL: TIBStringField;
    qryDetalleEXENTAS: TFloatField;
    qryDetalleGRABADAS05: TFloatField;
    qryDetalleGRABADAS10: TFloatField;
    DBGridEh1: TDBGridEh;
    dsDetalle: TDataSource;
    btnImprimir: TButton;
    ppVentas: TppDBPipeline;
    ppDetalles: TppDBPipeline;
    ppParameterList1: TppParameterList;
    ppDesignLayers1: TppDesignLayers;
    ppDesignLayer1: TppDesignLayer;
    ppHeaderBand1: TppHeaderBand;
    ppDetailBand1: TppDetailBand;
    ppFooterBand1: TppFooterBand;
    psbrprt1: TppSubReport;
    pchldrprt1: TppChildReport;
    ppDesignLayers2: TppDesignLayers;
    ppDesignLayer2: TppDesignLayer;
    ppTitleBand1: TppTitleBand;
    ppDetailBand2: TppDetailBand;
    ppSummaryBand1: TppSummaryBand;
    plbl1: TppLabel;
    psbrprt2: TppSubReport;
    pchldrprt2: TppChildReport;
    plbl2: TppLabel;
    ppTitleBand2: TppTitleBand;
    ppDetailBand3: TppDetailBand;
    ppSummaryBand2: TppSummaryBand;
    ppLabel1: TppLabel;
    ppDBText1: TppDBText;
    ppLabel2: TppLabel;
    ppDBText2: TppDBText;
    ppLabel4: TppLabel;
    ppDBText4: TppDBText;
    ppLabel5: TppLabel;
    ppDBText5: TppDBText;
    ppLabel6: TppLabel;
    ppDBText6: TppDBText;
    ppDesignLayers3: TppDesignLayers;
    ppDesignLayer3: TppDesignLayer;
    ppLabel3: TppLabel;
    ppDBText3: TppDBText;
    ppLabel7: TppLabel;
    ppDBText7: TppDBText;
    ppLabel8: TppLabel;
    ppDBText8: TppDBText;
    ppLabel9: TppLabel;
    ppDBText9: TppDBText;
    ppLabel10: TppLabel;
    ppDBText10: TppDBText;
    ppLabel11: TppLabel;
    ppDBText11: TppDBText;
    ppLabel12: TppLabel;
    ppDBText12: TppDBText;
    ppLine1: TppLine;
    ppSystemVariable1: TppSystemVariable;
    ppSystemVariable2: TppSystemVariable;
    procedure btnGenerarClick(Sender: TObject);
    procedure btnImprimirClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  frmRendicionVentas: TfrmRendicionVentas;

implementation

uses
  datos;

{$R *.dfm}

procedure TfrmRendicionVentas.btnGenerarClick(Sender: TObject);
begin
  inherited;

  with qryVentas do begin

    close;
    ParamByName('fecha').AsDate := edtFecha.Date;
    Prepare;
    open;




  end;

  with qryDetalle do begin

    close;
    ParamByName('fecha').AsDate := edtfecha.Date;
    Prepare;
    open;


  end;


end;

procedure TfrmRendicionVentas.btnImprimirClick(Sender: TObject);
begin
  inherited;
  report1.PrintReport;
end;

end.
